<!DOCTYPE html><html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Rastreamento de Entrega</title>
    <style>
        /* —— Estilo cyberpunk/neon minimalista —— */
        :root{
            --bg:#0d0d0d;
            --primary:#00ffff;
            --danger:#ff0055;
            --font:'Courier New', monospace;
        }
        html,body{height:100%;margin:0;background:var(--bg);color:var(--primary);font-family:var(--font);}
        .container{max-width:640px;margin:auto;padding:2rem;}
        h1{font-size:2rem;text-align:center;margin-bottom:1rem;text-shadow:0 0 8px var(--primary);} 
        p{margin:0 0 1.5rem 0;line-height:1.4;}
        input,button{width:100%;box-sizing:border-box;background:transparent;border:1px solid var(--primary);color:var(--primary);padding:.65rem 1rem;font-size:1rem;border-radius:4px;transition:.2s all;}
        input::placeholder{color:#088;}
        input:focus{outline:none;box-shadow:0 0 8px var(--primary);} 
        button{cursor:pointer;margin-top:.8rem;text-transform:uppercase;font-weight:bold;}
        button:hover{background:var(--primary);color:var(--bg);} 
        .timeline{margin-top:2rem;border-left:2px solid var(--primary);padding-left:1.2rem;}
        .event{margin-bottom:.8rem;position:relative;}
        .event::before{content:"";position:absolute;left:-10px;top:4px;width:8px;height:8px;border-radius:50%;background:var(--primary);} 
        .fee{background:rgba(255,0,85,.1);padding:1.2rem;border:1px solid var(--danger);border-radius:6px;margin-top:1.5rem;}
        .fee p{margin:0 0 .8rem 0;color:var(--danger);font-weight:bold;}
        .pay-btn{border:1px solid var(--danger);color:var(--danger);background:transparent;padding:.6rem 1rem;border-radius:4px;transition:.2s all;text-transform:uppercase;font-weight:bold;width:auto;}
        .pay-btn:hover{background:var(--danger);color:var(--bg);}
        @media(max-width:480px){h1{font-size:1.6rem;}}
    </style>
</head>
<body>
<main class="container">
    <h1>Rastreamento de Entrega</h1>
    <p>Digite seu código de rastreamento dos Correios ou Transportadora abaixo para acompanhar sua encomenda. Quando houver taxa de liberação, você poderá quitá‑la diretamente aqui.</p><input id="trackInput" placeholder="BR123456789CN" autocomplete="off">
<button onclick="track()">Rastrear</button>

<div id="result"></div>

</main><script>
/**
 * Simulação de base de dados de rastreamento.
 * Em produção, você substituiria por chamadas a APIs reais (Correios, transportadoras, etc.).
 */
const dummyData = {
  "BR123456789CN": [
    { status: "Objeto postado na origem", date: "2025-06-25 14:23" },
    { status: "Em trânsito para o Brasil", date: "2025-06-26 09:12" },
    { status: "Chegou ao Brasil", date: "2025-06-30 08:35" },
    { status: "Aguardando pagamento da taxa de liberação", date: "2025-07-02 11:00", fee: 35.90 }
  ],
  "LB987654321BR": [
    { status: "Objeto postado", date: "2025-06-20 10:00" },
    { status: "Objeto em trânsito", date: "2025-06-22 07:08" },
    { status: "Objeto entregue ao destinatário", date: "2025-06-25 16:45" }
  ]
};

function track () {
  const code = document.getElementById('trackInput').value.trim().toUpperCase();
  const resDiv = document.getElementById('result');
  resDiv.innerHTML = '';
  if (!code) return;

  const history = dummyData[code];
  if (!history) {
    resDiv.innerHTML = '<p>Código não encontrado. Verifique e tente novamente.</p>';
    return;
  }

  // Cria timeline dos eventos
  const timeline = document.createElement('div');
  timeline.className = 'timeline';
  history.forEach(ev => {
    const div = document.createElement('div');
    div.className = 'event';
    div.textContent = `${ev.date} — ${ev.status}`;
    timeline.appendChild(div);
  });
  resDiv.appendChild(timeline);

  // Verifica se há taxa pendente no último evento
  const last = history[history.length - 1];
  if (last.fee) {
    const feeBox = document.createElement('div');
    feeBox.className = 'fee';
    feeBox.innerHTML = `<p>Taxa de liberação pendente: R$ ${last.fee.toFixed(2).replace('.', ',')}</p>` +
                       `<button class="pay-btn" onclick="payFee('${code}', ${last.fee})">Pagar taxa agora</button>`;
    resDiv.appendChild(feeBox);
  }
}

function payFee (code, fee) {
  alert('Pagamento de R$ ' + fee.toFixed(2).replace('.', ',') + ' confirmado!\nSeu objeto será liberado em breve.');
  const hist = dummyData[code];
  if (hist) {
    // Remove marcação da taxa no penúltimo evento
    delete hist[hist.length - 1].fee;
    // Adiciona novo evento de confirmação
    hist.push({ status: 'Taxa paga, objeto liberado para entrega', date: new Date().toISOString().slice(0, 16).replace('T', ' ') });
  }
  track(); // Atualiza exibição
}
</script></body>
</html>
